## Cilium

Cilium 是开源软件，用于**透明地**保护使用Linux容器管理平台（如 Docker 和 Kubernetes）部署的应用程序服务之间的网络连接
Cilium 的基础是一种名为 eBPF 的新 Linux 内核技术，它支持在 Linux 本身内动态插入强大的安全可见性和控制逻辑。由于 eBPF 在 Linux 内核中运行，因此可以应用和更新 Cilium 安全策略，而无需对应用程序代码或容器配置进行任何更改

## Hubble

Hubble 是一个完全分布式的网络和安全可观察性平台。它建立在 Cilium 和 eBPF 之上，能够以完全透明的方式深入了解服务的通信和行为以及网络基础设施。通过在 Cilium 之上构建Hubble 可以利用 eBPF 来提高可见性

通过依赖 eBPF，所有可见性都是可编程的，并允许采用动态方法来最大限度地减少开销，同时根据用户的要求提供深入和详细的可见性。Hubble的创建和专门设计是为了充分利用这些新的 eBPF 能力

Hubble主要功能

### Service dependencies & communication map

哪些服务相互通信？多频繁？
服务依赖图是什么样的
正在进行什么 HTTP 调用？
服务从哪些 Kafka 主题消费或生产到哪些主题？

### Network monitoring & alerting

是否有任何网络通信失败？为什么通讯失败？是DNS吗？是应用程序问题还是网络问题？
第 4 层 (TCP) 或第 7 层 (HTTP) 上的通信是否中断？
哪些服务在过去5分钟内遇到了DNS解析问题？
哪些服务最近遇到了TCP连接中断或连接超时？
未响应的 TCP SYN 请求的比率是多少？

### Application monitoring

特定服务或所有集群的 5xx 或 4xx HTTP 响应代码的比率是多少？
我的集群中 HTTP 请求和响应之间的第 95 个和第 99 个百分位延迟是多少(尾延迟)？
哪些服务表现最差？
两个服务之间的延迟是多少？

### Security observability

由于网络策略，哪些服务的连接被阻止？
从集群外部访问了哪些服务？
哪些服务解析了特定的 DNS 名称？