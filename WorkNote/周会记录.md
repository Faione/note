## 周会讨论 (浩镭)

时间：2021-11-19 

姓名：方浩镭 

主题：周会讨论 

### 当前工作(优先级排列)
- cgroup controller 实现
   - Cpu资源控制: 时间片，核心数
   - Net资源控制
   - Memory资源控制
- span 数据解析 -> 存储到 ES
- 联调 jaeger端到端追踪

### 已完成工作
### 下一阶段工作

## 周会讨论 (浩镭)

时间：2021-11-26 

姓名：方浩镭 

主题：周会讨论 

### 当前工作(优先级排列)

### 已完成工作
- 参与agent与总控的联调，测试通过metric、log、trace信息的收集、发送
- 完成armv7环境下的env、小车app镜像制作，测试通过armv7环境下的监控信息收发
### 下一阶段工作

### 当前存在问题

- 存到es中的span数据不能被jaeger query正确的读取

## 周会讨论 (浩镭)

时间：2021-11-19 

姓名：方浩镭 

主题：周会讨论 

### 当前工作(优先级排列)

### 已完成工作
- 参与封装 jaeger env 容器，封装 hotrod 测试程序容器
- 完善jaeger span collector功能，使用 guid 对span进行区分，完成 agent 部分cli的开发
- 参与子系统联调工作，规范agent端口使用
### 下一阶段工作



## 周会讨论 (浩镭)
## 周会讨论 (浩镭)

时间：2021-11-12 

姓名：方浩镭 

主题：周会讨论 
### 已完成工作

1. 优化策略流程设计，参与agent的重构
2. 打包jaeger env镜像，开发jaeger-collector

### 下一阶段工作
1. 完成agent 主体剩余代码
2. opentracing 数据格式调研
## 周会讨论 (浩镭)

时间：2021-11-5 

姓名：方浩镭 

主题：周会讨论 

### 当前工作(优先级排列)
- agent cli
- Docker监控精简代码，ppt介绍 
### 已完成工作
- 依照策略安排，完成agent对接jaeger-collector的功能
   - 完成collector-plugin(向agent写，参考kafka plugin)
   - agent提供RESTFul API，以及向总线写的业务逻辑
- 整理策略执行流程，增加应用级(container), host级别(promethues)监控策略
- jaeger query api
### 下一阶段工作

## 周会讨论 (浩镭)

时间：2021-10-22 

姓名：方浩镭 

主题：周会讨论 

### 已完成工作
1. 整理 agent cli 需求，完成 man cli 文档
2. 存储jaeger数据到elasticsearch

### 下一阶段工作
1. 搭建 agent service
2. 使用 go 完成 agent cli client


### 当前存在问题
1. 使用kafka作为jaeger数据缓冲

## 周会讨论 (浩镭)

时间：2021-10-15

姓名：方浩镭 

主题：周会讨论 

### 已完成工作
1. 微服务骨架搭建
2. docker ppt
3. v2 agent serivce接口

### 下一阶段工作
1. 搭建 agent service
2. jaeger使用kafka缓冲并存储至es上

### 当前存在问题



## 周会讨论（浩镭）

时间：2021-09-29 

姓名：方浩镭 

主题：周会讨论 

### 已完成工作

1. 协助联调
2. 整理agent新需求

### 下一阶段工作

1. 解决系统迁移的问题（+2）
2. 实现新需求
   1. 跟进k8s、kvm控制功能
3. 完成docker ppt
4. 完成系统的设计文档



### 已完成工作(马英杰)

1.sponge页面整理

2.总控页面整理

### 下一阶段工作

1.完善界面工作

2.学习css、ant design、ant design pro



## 周会讨论（浩镭）

时间：2021-09-24

姓名：方浩镭

主题：周会讨论 

### 已完成工作

1. Jaeger
   1. 完成模拟图像处理服务的编写，完成端到端的延迟追踪
2. Agent
   1. 更新最新总线，增加RPC Server功能，提供RPC的调用
   2. Agent注册优化

### 下一阶段工作

1. 解决系统迁移的问题（+1）

2. agent上报，监控逻辑调整

   

## 周会讨论

时间：2021-09-18

姓名：方浩镭

主题：周会讨论 

### 已完成工作（浩镭）

1. RPC
   1. 整理总线接口，统一总线功能调用
   2. 修复部分BUG
2. Jaeger
   1. 搭建arm64树莓派环境，迁移小车服务
   2. 修改图像处理服务，使用struct打包/解包trace信息
3. Agent
   1. 完善agent文档，提供干扰程序脚本、小车控制服务的说明

### 下一阶段工作

1. 解决系统迁移的问题

2. agent随机数时间之后进行注册

3. Jaeger端到端延迟显示

4. 优化rpc call（等待时间随try次数增加），增加状态（创建、已发送）， 优化server（增加线程池）

   1. 取消rpclist（guid），类http404 错误的返回，call 的线程安全机制，注册机制的简单双topic实现

5. agent cli， 使用cgroup，介绍docker

   

### 已完成工作（英杰）

1.***课题一演示界面

2.总控web页面更新（添加部分json数据）

3.sponge页面整理

4.学习css盒子模型margin、padding以及border的使用

### 下一阶段工作

1.编写sponge子系统web界面
2.学习css、ant design 、 ant design pro。

## 周会讨论

时间：2021-09-10

姓名：方浩镭

主题：周会讨论 

### 已完成工作（浩镭）

1. 小车新demo
   1. 联调Sponge、控制中心
   2. 修复 agent 已知bug
2. 总线RPC
   1. 优化RPC功能，完善范例

### 下一阶段工作

1. 完成Demo中jaeger的嵌入并测试 (+1)
2. 完善agent文档，提供干扰程序脚本、小车控制服务的说明
3. rz    sz 
4. 总线 client 完善，jaeger 实现, js jaeger



### 已完成工作（英杰）

1.*课题一演示界面、后端编写

2.修改总控web界面

### 下一阶段工作

1.编写sponge子系统web界面

2.agent心跳功能



## 周会讨论（浩镭）

时间：2021-09-03

姓名：方浩镭

主题：周会讨论 

### 已完成工作

1. 总线RPC功能
   1. 完善RPC调用功能，测试基础功能，提供演示程序与使用说明
2. Agent
   1. agent修改总线调用，提供测试程序以及agent使用说明
3. 基于Jaeger的追踪功能
   1. 修改小车摄像头图片获取代码

### 下一阶段工作

1. 抽象总线RPC，完善细节
2. 完成Demo中jaeger的嵌入并测试
3. 小车新demo

## 周会讨论(英杰)

时间：2021-09-03
姓名：马英杰
主题：周会讨论

### 已完成工作

1.根据总控页面需求，编写web界面
2.阅读sponge子系统文档

### 下一阶段工作

1.对接sponge子系统，编写相应的web界面
2.agent心跳功能

### 当前存在问题



## 周会讨论（浩镭）

时间：2021-08-27

姓名：方浩镭

主题：周会讨论 

### 已完成工作

1. 基于Jaeger的追踪功能
   1. 完成实验环境搭建，了解OpenTracing的基础用法，跑通测试代码，能够获得并呈现追踪数据(和英杰一起完成)
2. 总线RPC功能
   1. 简单RPC功能实现（继续讨论完成）
3. 总线数据格式
   1. 实现通用总线格式BasicMsg基类，包含FuncData的RPCMsg类

### 下一阶段工作

1. Jaeger Tracer 在 Agent中的集成，重定向Jaeger的追踪数据到Agent
2. 完善RPC调用功能，完成其他总线基础数据格式
3. 对接SPONGE心跳接口（+1）

### 当前存在问题



## 周会讨论（英杰）

时间：2021-08-27
姓名：马英杰
主题：周会讨论

### 已完成工作

1. 阅读octopus子系统文档 

### 下一阶段工作

1. 阅读sponge子系统文档
2. // 整理系统的功能，并编写web界面



## 周会讨论

时间：2021-08-20

姓名：方浩镭 

主题：周会讨论 

### 已完成工作

1. 总线数据格式设计
   - 基于Agent交互格式设计总线通用数据格式，并在此基础上重构Agent交互格式
2. 分布式链追踪
   - 搭建服务端基础环境
3. 整理Agent文档
   - 完善Agent架构

### 下一阶段工作

1. 完成链路追踪功能(+1)

2. 增强监控功能，使用elk beat 替代 docker client(+1)

3. 按照总线格式文档修改Agent内容，集成功能到总线SDK中

4. 对接SPONGE心跳接口


### 当前存在问题



## 周会讨论

时间：2021-08-13

姓名：方浩镭 

主题：周会讨论 

### 已完成工作

1. 调查分布式链追踪

   - 调研Opentracing相关内容

   - 调研Jaeger

2. 整理Agent文档

   - 整理数据交互格式

3. 测试总线解决方案

### 下一阶段工作

1. 部署并在小车服务、云端数据处理服务中引入Jaeger，进行测试
2. 完善Agent文档
3. 增强监控功能，使用elk beat 替代 docker client

### 当前存在问题

## 周会讨论

时间：2021-08-06

姓名：方浩镭 

主题：周会讨论 

### 已完成工作
1. agent代码完善
   - 增加yaml配置文件
   - 完善注册-监控-调控流程
2. agent对接
   - 完成与sponge的对接（注册功能）
   - 完成与控制中心的对接（上报信息、调控命令）
   - 能够正常使用总线
3. 小车Demo复现
   - 使用新系统完成小车Demo

### 下一阶段工作
1. 增加监控功能，加入trace功能
2. 增强监控功能，使用elk beat 替代 docker client
3. 多端部署agent
4. 整理数据规范、整理接口文档、整理程序设计文档

### 当前存在问题


## 周会讨论
时间：2021-07-30

姓名：方浩镭 

主题：周会讨论 

### 已完成工作
1. agent对接sponge
   - 集成sponges sdk
   - 测试http请求
   - 测试总线传输
2. agent对接控制中心
   - 测试总线传输（上报信息）
3. maven引入总线sdk方式
   - 总线sdk打包，maven从本地安装
4. 组装小车

### 下一阶段工作
1. 解决总线传输问题
2. 测试控制指令的解析及控制执行功能
3. 增加agent信息监控功能，业务层延迟追踪

### 当前存在问题
1. 总线传输问题


时间：2021-07-16

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 设备/服务端agent实现
   - 设备/服务的注册信息获取
   - 设计心跳信息格式
2. 控制中心-边端交互格式设计
   - 完善控制、上报信息格式
3. 基于Docker的监控组件实现
   - 基于Docker Stats的容器监控程序迁移
   - 为Docker Stats设计Adapter，规范为标准格式
   - 设计相应的上报数据模型类

### 下一阶段工作

1. 迁移Prometheus监控
2. 补充/重写注册信息获取接口
3. 完善心跳信息格式设计、控制指令格式设计

### 当前存在问题



## 周会讨论

时间：2021-07-10

姓名：方浩镭

主题：周会讨论

### 已完成工作

### 下一阶段工作

### 当前存在问题



## 周会讨论

时间：2021-07-03

姓名：方浩镭

主题：周会讨论

### 已完成工作

### 下一阶段工作

### 当前存在问题



## 周会讨论

时间：2021-06-25

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 设计设备/服务测控模块功能需求
2. 了解ELK整体结构，了解Beats的相关内容，以及Logstash在ELK中的作用
3. 完成部分的功能、接口抽象

### 下一阶段工作

1. 搭建ELK beats环境，了解其在系统中的可用性与扩展性
2. 完成监控组件、控制组件的抽象与封装

### 当前存在问题

1. 设备/服务的抽象



## 周会讨论

时间：2021-06-18

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 完成服务器端ovs搭建，编写相应服务，能够基于http进行控制
2. 优化小车控制功能，完成小车控制容器，完成干扰容器、干扰容器启动脚本的编写，增强Adapter监控功能，完善监控指标
3. 参与实验场景的搭建、实验、拍摄

### 下一阶段工作

1. 阅读ELK beats、agent部分，完成k8s的资料整理, 了解 distributed trace相关内容
2. 整理、抽象Adapter相关代码，编写接口文档

### 当前存在问题





## 周会讨论

时间：2021-06-04

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 增加 DockerUtil 功能，能够从Docker中读取容器的CPU使用率、内存使用率、网络、IO情况等
2. Adapter能够向总线提供容器资源数据，并监听来自总线的命令，进行容器资源调控

### 下一阶段工作

1. 小车增加视频服务：
   1. 1 支持web显示（mjpeg小车视频）
2. 容器网络控制
   1. 搭建ovs(服务器)，并接入容器（视频解析服务、视频流服务、干扰服务）
      1. 适配器加入OVS控制
   2. 小车视频写入视频流
   3. 写数据提供时间戳
3. 接入Blackboard

### 当前存在问题

1. 小车、服务器网络通信问题



## 周会讨论

时间：2021-05-31

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 编写DockerUtil，控制目标容器的开启、停止，在CPU核心数量上进行调控
2. 整理部分PromQL语句使用方式

### 下一阶段工作

1. 完善对接程序的设计
2. Docker Java Client 在对接程序中的集成，监听来自总线的命令，并提供容器CPU分配的方法
3. 学习PromQL查询语言，提供更多主机性能监控指标
4. 对接ETCD，完成小车的注册，并能从ETCD中获得小车的IP、端口、以及API

### 当前存在问题

- 资源监控方案
  - 主机监控
    - node_exporter，prometheus server
  - 容器监控
    - 方案一：程序中嵌入prometheus，作为exporter，由 promethues server 接收、处理数据
    - 方案二：直接使用 / 远程调用 docker stats 命令（^）
- Docker 远程控制方案
  - Java Client (^)
    - 网络控制
  - Python Client
  - Docker RESTful API
- "Your kernel does not support CPU CFS scheduler"
  - Raspbian内核没有CFS scheduler (X)

## 周会讨论

时间：2021-05-28

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 设备端小车网络环境调配，服务镜像的迁移、导入
2. 小车、虚拟机异构异系统k8s集群搭建、测试
3. 小车端 Prometheus Node Exporter，Prometheus Server搭建，PromQL查询语言简单使用
4. 小车主机性能监控（CPU使用率），对接高铁总线的程序
5. Docker 开启远程http控制，阅读部分控制 api

### 下一阶段工作

1. 完善对接程序的设计
2. Docker Java Client 在对接程序中的集成，监听来自总线的命令，并提供容器CPU分配的方法
3. 学习PromQL查询语言，提供更多主机性能监控指标
4. 对接ETCD，完成小车的注册，并能从ETCD中获得小车的IP、端口、以及API
5. k8s、PromQL整理，相关
6. 主持人
   1. 主持进度：拉人 -> 报告 -> 工作进度 -> 代码review(轮值) -> 问答
      1. 周一不算，只对进度

### 当前存在问题



## 周会讨论

时间：2021-05-21

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 物端小车fastApi服务搭建、部署与测试
2. 小车控制的前端页面
3. 小车控制服务的Docker镜像生成

### 下一阶段工作

1. **collectd**服务安装配置，监控数据的读写、展示

### 当前存在问题

1. GPIO库在容器中的使用存在问题

## 周会讨论

时间：2021-05-14

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 毕业答辩
2. Java开发规约整合

### 下一阶段工作

1. 物端小车fastApi服务搭建、部署与测试
2. 信息高铁接入设备适配器设计
3. 信息高铁系统软件开发规约
   1. Java开发规约
   2. 其他语言规约（待定）

### 当前存在问题

​	



## 周会讨论

时间：2021-05-10

姓名：方浩镭

主题：周会讨论

### 已完成工作

1. 信息高铁汇报ppt编写


### 下一阶段工作

1. 完成毕业答辩工作
2. 完成其他学校工作

### 当前存在问题

​	无





## 周会讨论

时间：2021-05-06 

姓名：方浩镭

主题：信息高铁讨论

### 已完成工作

1. Java开发规约完善

2. 物端小车API整理与设计

3. 特殊注释过滤工具编写


### 下一阶段工作

1. 物端小车fastApi服务搭建、部署与测试
2. 物端小车接口设计
3. 信息高铁接入设备抽象设计
4. k8s controller 深入，接口整理

### 当前存在问题

1. 所做工作与信息高铁项目的关联性的认识不全面
2. 信息高铁整体架构了解不充分





