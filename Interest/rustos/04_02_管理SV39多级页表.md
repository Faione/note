## 物理页帧管理

### 物理页的分配与回收

按照内存布局, 总内存大小为 8MB, 可用的物理内存范围为 `(ekernel, 0x80800000]` ，而分配物理页帧时，上界向上取整，避免与内核代码重叠，下界向下取整，以获得最多的可用物理帧(此时最后一页可能不满)

对于物理页帧管理器而言，需要满足满足以下功能 `trait`

```rust
trait FrameAllocator {
    fn new() -> Self;
    fn alloc(&mut self) -> Option<PhysPageNum>;
    fn dealloc(&mut self, ppn: PhysPageNum);
}
```

From<T> trait, 假设存在类型 A 与类型 B, 若为类型 A 实现 From<B> trait, 则可通过 `let a: A = B.into()` 或 `let a: A = A::from(B)` , 将 B 类型的变量转化为 A 类型，与此同时，若为
 

#### 简单栈式物理页帧管理策略




### 分配/回收物理页帧的接口

## 多级页表管理

### 页表基本数据结构与访问接口

### 内核中访问物理页帧

通过物理页号，构造可变引用来直接访问一个物理页号 PhysPageNum 对应的物理页帧，不同的引用类型对应于物理页帧上的一种不同的内存布局，如 get_pte_array 返回的是一个页表项定长数组的可变引用，代表多级页表中的一个节点；而 get_bytes_array 返回的是一个字节数组的可变引用，可以以字节为粒度对物理页帧上的数据进行访问，前面进行数据清零就用到了这个方法； get_mut 是个泛型函数，可以获取一个恰好放在一个物理页帧开头的类型为 T 的数据的可变引用

### 建立和拆除虚实地址映射关系

