# 并发编程的思路

- 并发程序能够在一段时间内，运行多个逻辑流
  - 多进程：
    - 创建多个进程来实现多个逻辑流并发运行，可以采用fork、exec 和 waitpid等方式
  - I/O 多路复用：
    - 构造并发事件驱动（event-driven）程序
    - 在事件驱动程序中，某些事件会导致流向前推进，一般的思路是将逻辑流模型化为状态机
    - 不严格地说，一个状态机（state machine）就是一组状态（state）、输入事件（input event）和转移（transition），其中转移是将状态和输入事件映射到状态。每个转移是将一个（输入状态，输入事件）对映射到一个输出状态。自循环（self-loop）是同一输入和输岀状态之间的转移。通常把状态机画成有向图，其中节点表示状态，有向弧表示转移，而弧上的标号表示输入事件。一个状态机从某种初始状态开始执行。每个输入事件都会引发一个从当前状态到下一状态的转移
  - 优劣
    - 多进程中，每个进程有它自己的私有地址空间，这使得流共享数据很困难，I/O 多路复用比基于进程的设计给了程序员更多的对程序行为的控制, 同时，所有的流共享整个地址空间
    - 并发事件驱动程序中，状态机及其变化需要能覆盖所有的逻辑流，相较于根据多进程编程，这种方式更加复杂，代码量也更加庞大，以单一进程运行不能充分利用多核处理器
  - 多线程