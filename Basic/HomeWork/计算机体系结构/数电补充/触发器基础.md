# 触发器基础

- [触发器基础](#触发器基础)
  - [一、基础概念](#一基础概念)
    - [(1) 定义](#1-定义)
    - [(2) 触发器](#2-触发器)
  - [二、基本触发器](#二基本触发器)
    - [(1) 双稳态电路](#1-双稳态电路)
    - [(2) 基本RS触发器](#2-基本rs触发器)
      - [工作原理](#工作原理)
      - [描述方法](#描述方法)
    - [(3) 钟控RS触发器](#3-钟控rs触发器)
    - [(4) 钟控D触发器](#4-钟控d触发器)
    - [(5) 钟控JK触发器](#5-钟控jk触发器)
    - [(6) 钟控T触发器](#6-钟控t触发器)
    - [(7) 总结](#7-总结)

## 一、基础概念

### (1) 定义

- 当前的状态与电路现在的输入和过去的状态都有关

### (2) 触发器

- Flip-Flop
  - 构成时序逻辑电路的基本单元
  - 具有记忆功能，可以存储二进制信息
- 基本特点
  - 维持: 自行保持稳定的"1"或"0"状态 （保持/存储）
  - 接收: 根据输入信号置"1"或"0"
- 分类
  - 按电路功能
    - 基本RS触发器、锁存器(电位触发)、寄存器(边沿触发)等
  - 按逻辑功能
    - RS触发器、JK触发器、T触发器、D触发器
  - 按存储原理
    - 静态触发器(双稳态电路)、动态触发器(电容)


## 二、基本触发器

### (1) 双稳态电路

**双稳态电路**

- 输入状态经过偶数个反向器之后得到强化，一旦进入某个状态，则改变状态变得困难
- 可以说是一种稳定状态，这使得输出端总是一个稳定的值，即能够存储1位二进制
- 能够实现触发器所要求的 "保持" 功能, 但还不能够 "接收"

![双稳态电路](./img/2022-03-05-13-52-53.png)

**增加"接收"的方法**

1. 增加成对的开关
   - 输入导通时，是一个反相器
   - 输入断开时，是一个双稳态电路，能够保存刚刚输入的值
2. 将反相器更换为与非门
   - 两个输入端同时输入1时，与非门实际是反相器(0得1，1得0)，即此时时一个双稳态电路
   - 两个输入端不同时为1时，能够进行接收

![增加接收](./img/2022-03-05-14-03-25.png)

### (2) 基本RS触发器

![RS触发器](./img/2022-03-05-14-09-06.png)

#### 工作原理

- 基本定义
  - $Q=1, \overline{Q}=0为触发器的"1"状态$
  - $Q=0, \overline{Q}=1为触发器的"0"状态$
  - $Q^{n} —— 现态, Q^{n+1} —— 次态$

- 工作原理
  1. $R_{D}=1, S_{D}=0; Q=1, \overline{Q}=0$ 触发器的"1"状态(置位或置"1")
  2. $R_{D}=0, S_{D}=1; Q=0, \overline{Q}=1$ 触发器的"0"状态(复位或清"0")
  3. $R_{D}=1, S_{D}=1; Q=Q, \overline{Q}=\overline{Q}$ 保持(状态由$Q、\overline{Q}$决定)
  4. $R_{D}=0, S_{D}=0; Q=1, \overline{Q}=1$ 破坏互补输出关系
    - 如果从同时0 -> 同时1 ，则次态不稳定
    - 因此有约束条件 $R_{D} + S_{D}=1$
- 理解
  - R-> reset(清零); S-> set(置1), D代表低电平有效(0时有效)
  - $R_{D}=1, S_{D}=0$ 即"置1"有效而"清0"无效，此时状态为1
  - $R_{D}=0, S_{D}=1$ 即"清0"有效而"置1"无效，此时状态为0
  - $R_{D}=1, S_{D}=1$ 即"清0"和"置1"均无效，就是既不"清0"也不"置1", 此时状态为保持
    - 与非们实际变为非门，即此时是一个双稳态电路
  - $R_{D}=0, S_{D}=0$ 即"清0"和"置1"均有效，就是既"清0"又"置1", 因此这种状态不允许

#### 描述方法

1. 状态转移真值表(状态表)
   - 将触发器的次态与现态及输入信号之间的逻辑关系用表格的形式表示出来
   - 卡诺图: $Q_{n+1}$由$Q_{n}、R_{D}、S_{D}$决定，故用3变量卡诺图表示

![状态转移真值表](./img/2022-03-05-19-18-24.png)

2. 特征方程(状态方程)
   - 描述触发器(时序电路)逻辑功能的函数表达式
     - 注意 非完全描述的逻辑函数

![基本RS触发器特征方程](./img/2022-03-05-19-20-54.png)

3. 状态转移图(状态图)与激励表
   - 状态图
     - 首先写出可能的状态，以及状态之间的迁移关系
     - 根据状态转移真值表填上状态迁移的条件
   - 激励表
     - 左边是状态迁移，右边是状态迁移的条件

![状态迁移图](./img/2022-03-06-16-59-53.png)

4. 波形图

![波形图](./img/2022-03-06-17-01-36.png)

### (3) 钟控RS触发器

- 钟控RS触发器引入了时钟信号
  - 时钟信号为0时，与非门输出时钟为1，此时RS触发器保持
  - 时钟信号为1时，与非门正常使用，作用是一个反相器
- 因而钟控RS触发器与RS触发器相反，即高电平有效

![钟控RS触发器电路图](./img/2022-03-06-17-17-15.png)

![钟控RS触发器状态迁移图](./img/2022-03-06-17-14-55.png)

![钟控RS触发器波形图](./img/2022-03-06-17-20-04.png)

### (4) 钟控D触发器

- 由于C与非门接入与非门D的输出，因此CP有效时，$R_{D}与S_{D}总是相反的$，即必然满足约束条件
- 在时钟作用下，次态始终和输入一致
  - 因此又称为 D锁存器

![钟控D触发器电路图](./img/2022-03-06-17-22-55.png)

![钟控D触发器状态表与激励表](./img/2022-03-06-17-24-59.png)

### (5) 钟控JK触发器

- 利用 $Q与\overline{Q}$ 互补来消除约束条件
  - JK触发器拥有: 保持、置1、置0、翻转四种功能
  - 同样也是高电平触发

![JK触发器](./img/2022-03-06-17-32-01.png)
![JK触发器状态表与激励表](2022-03-06-17-37-27.png)

### (6) 钟控T触发器

![钟控T触发器](./img/2022-03-06-17-39-27.png)

![钟控T触发器状态表与激励表](./img/2022-03-06-17-40-19.png)

- 将T触发器的T端接高电平或悬空，即为T'触发器
  - 每次CP为1，输出就翻转一次，因而也被称为计数触发器

![T'触发器状态表与激励表](./img/2022-03-06-17-42-21.png)


### (7) 总结

![不同触发器](./img/2022-03-06-17-43-51.png)

![触发器功能表](./img/2022-03-06-17-44-12.png)