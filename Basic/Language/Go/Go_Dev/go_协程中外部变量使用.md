- [协程外部变量引用](https://www.jianshu.com/p/e5f328819d4b)

- go 中允许协程使用外部变量, java 中同样允许，但要求外部变量不可变(final)，但需要注意的是，在GO中协程仅仅是读入了外部变量的引用，如果变量值发生变化，则协程中的变量值也会随之变化
  - 这就导致一种情况，如果在循环中使用协程，并引用循环中的变量，由于循环往往先于协程的启动而结束，即希望协程使用的外部变量在协程启动之前，就已经变化，这就导致协程的运行超乎预期
  - 解决方法
    - 通过传递参数的方式，保留变量的副本，并交给协程，就可以避免以上的错误


- loop variable i captured by func literal