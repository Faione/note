# Rust数据结构内存布局

[](https://www.bilibili.com/video/BV1KT4y167f1)


在 linux 中，可以在 /proc/PID/maps 文件中查看进程的内存映射情况，6列数据分配对应于
- `address` : 段在虚拟内存中的范围
- `perms` : 段的权限: r w x p(私有)
- `offset` : 段映射的地址在文件中的偏移
- `dev` : 主设备号和次设备号
- `inode`: 文件索引节点号
- `pathname`: 映射文件名

## 栈空间

编译时已知大小的变量才会分配在栈上
将一个变量赋值给另一个变量时，栈内存就会被赋值

## 变量内存布局


- 整数与无符号整数 栈
- char 栈
- 元组 栈
- 引用类型 栈
- 数组 栈
- vec 栈与堆
  - 栈: 指向堆上数组的引用，cap(堆上数组长度), len(已经使用的空间)
    - 若 len > cap, 则需要在堆上分配更大的数组，并对原来的数组进行拷贝
  - 堆: 数组
- 切片
  - 声明时

