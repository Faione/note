# grep 程序

## 项目分离规则

- 将程序分为 `main.rs` 与 `lib.rs`, 将程序的主要逻辑放置在 `main.rs` 中
- 当主要逻辑过大时，需要从 `main.rs` 中提取并放到 `lib.rs` 中

主程序的职责
- 利用传递的参数调用命令行解析逻辑
- 设置其他的配置
- 调用 `lib.rs` 中的 `run` 函数
- 处理 `run` 函数返回的错误

`main.rs` 负责运行整个程序，`lib.rs` 处理所有的任务逻辑。由于 `main` 函数通常不能直接测试，使用以上的结构能够通过将所有的程序逻辑移动到 `lib.rs` 中的方法里面，从而能够进行测试